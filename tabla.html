<html>

<head>
    <link rel="stylesheet" href="tabla.css">
    <meta http-equiv="X-UA-Compatible" content="IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/floatthead/2.2.4/jquery.floatThead.min.js" integrity="sha512-QhaSMfyPHtKHbg7e//C6Y/nmpflIM9PgmhZ/TR+BcbRaR9eYXzZRfuK5D9pnVlp+J5zWXu5ckVzX4ycOQy/jZA==" crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>
    <script type="text/javascript" src="tabla.js"></script>
    <script>
        var pois;

        function compare(a, b) {
            if (a.distancia < b.distancia) {
                return -1;
            }
            if (a.distancia > b.distancia) {
                return 1;
            }
            return 0;
        }


        function add(nombre_poi, distancia, atributos) {
            pois.push({ nombre_poi, distancia, atributos });

            pois.sort(compare);

            pois = recalcula(pois);

            muestra(pois);


            /* var a = document.createElement("a");
            var file = new Blob([JSON.stringify(pois, null, 2)], { type: 'text/plain' });
            a.href = URL.createObjectURL(file);
            a.download = 'pois.json';
            a.click(); */
        }

        function guardar() {
            var a = document.createElement("a");
            var file = new Blob([JSON.stringify(pois, null, 2)], { type: 'text/plain' });
            a.href = URL.createObjectURL(file);
            a.download = 'pois.json';
            a.click();
        }
    </script>
</head>

<body>
    <table id="principal" style="width:100%;">
        <thead>
            <tr>
                <th style="min-width:300px; width:300px;">Punto</th>
                <th style="min-width:100px; width:100px;">Distancia</th>
                <th style="min-width:100px; width:100px;">Intervalo</th>
                <th style="min-width:300px; width:300px;">Atributos</th>
                <th style="width:50%;">Notas</th>
                <th style="min-width:50px; width:50px;">B</th>
            </tr>
        </thead>
        <tbody id="cuerpo_tabla"></tbody>
    </table>
    <script>
        carga().then(function (returndata) {
            pois = returndata;
            muestra(pois);

            $('#principal').floatThead();
        });

    </script>
</body>

</html>